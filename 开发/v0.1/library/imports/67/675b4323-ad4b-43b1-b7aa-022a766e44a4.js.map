{"version":3,"sources":["assets/scripts/bag/bagTool.js"],"names":["cc","Class","Component","properties","initInfo","info","self","resources","load","SpriteFrame","err","spriteFrame","node","getComponent","Sprite","intro","on","Node","EventType","MOUSE_DOWN","searchNode","find","Label","string","active","bind","pic","usetool","loader","loadRes","window","InUse","console","log"],"mappings":";;;;;;AAAAA,EAAE,CAACC,KAAH,CAAS;EACL,WAASD,EAAE,CAACE,SADP;EAGLC,UAAU,EAAE,EAHP;EAML;EAEAC,QARK,oBAQKC,IARL,EAQW;IACZ;IAEA;IACA,IAAIC,IAAI,GAAG,IAAX;IACAN,EAAE,CAACO,SAAH,CAAaC,IAAb,CAAkBH,IAAI,CAAC,QAAD,CAAtB,EAAkCL,EAAE,CAACS,WAArC,EAAkD,UAAUC,GAAV,EAAeC,WAAf,EAA4B;MAC1EL,IAAI,CAACM,IAAL,CAAUC,YAAV,CAAuBb,EAAE,CAACc,MAA1B,EAAkCH,WAAlC,GAAgDA,WAAhD;IACH,CAFD,EALY,CASZ;;IACA,KAAKC,IAAL,CAAUG,KAAV,GAAkBV,IAAI,CAAC,OAAD,CAAtB;IACA,KAAKO,IAAL,CAAUI,EAAV,CAAahB,EAAE,CAACiB,IAAH,CAAQC,SAAR,CAAkBC,UAA/B,EAA2C,YAAY;MACnD,IAAIC,UAAU,GAAGpB,EAAE,CAACqB,IAAH,CAAQ,8BAAR,CAAjB,CADmD,CACO;;MAC1DD,UAAU,CAACP,YAAX,CAAwBb,EAAE,CAACsB,KAA3B,EAAkCC,MAAlC,GAAyC,KAAKX,IAAL,CAAUG,KAAnD;MACAK,UAAU,CAACI,MAAX,GAAoB,IAApB;IACC,CAJsC,CAIrCC,IAJqC,CAIhC,IAJgC,CAA3C,EAIkB,IAJlB,EAXY,CAiBZ;;IACA,KAAKb,IAAL,CAAUc,GAAV,GAAcrB,IAAI,CAAC,QAAD,CAAlB;IACA,KAAKO,IAAL,CAAUI,EAAV,CAAahB,EAAE,CAACiB,IAAH,CAAQC,SAAR,CAAkBC,UAA/B,EAA2C,YAAY;MACnD,IAAIQ,OAAO,GAAG3B,EAAE,CAACqB,IAAH,CAAQ,qCAAR,CAAd,CADmD,CACW;;MAC9DrB,EAAE,CAAC4B,MAAH,CAAUC,OAAV,CAAkBxB,IAAI,CAAC,QAAD,CAAtB,EAAkCL,EAAE,CAACS,WAArC,EAAkD,UAAUC,GAAV,EAAeC,WAAf,EAA4B;QAC1EgB,OAAO,CAACd,YAAR,CAAqBb,EAAE,CAACc,MAAxB,EAAgCH,WAAhC,GAA8CA,WAA9C;MACH,CAFD;MAGAmB,MAAM,CAACC,KAAP,GAAe1B,IAAI,CAAC,MAAD,CAAnB;IACH,CAN0C,CAMzCoB,IANyC,CAMpC,IANoC,CAA3C,EAMc,IANd;IAOAO,OAAO,CAACC,GAAR,CAAY,iBAAgBH,MAAM,CAACC,KAAnC;EACH;AAnCI,CAAT","sourceRoot":"/","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    initInfo (info) {\n        // 初始化该道具相关信息\n \n        // 图片\n        var self = this;\n        cc.resources.load(info['picUrl'], cc.SpriteFrame, function (err, spriteFrame) {\n            self.node.getComponent(cc.Sprite).spriteFrame = spriteFrame;\n        });\n \n        // 介绍\n        this.node.intro = info['intro'];\n        this.node.on(cc.Node.EventType.MOUSE_DOWN, function () {\n            let searchNode = cc.find(\"Canvas/Main Camera/bag/intro\"); //通过全路径获取对应节点\n            searchNode.getComponent(cc.Label).string=this.node.intro;\n            searchNode.active = true;\n            }.bind(this), this);\n \n        // 点击使用物品会使物品图片出现在右上角\n        this.node.pic=info['picUrl'];\n        this.node.on(cc.Node.EventType.MOUSE_DOWN, function () {\n            let usetool = cc.find(\"Canvas/Main Camera/bag/useTool/body\"); //通过全路径获取对应节点\n            cc.loader.loadRes(info['picUrl'], cc.SpriteFrame, function (err, spriteFrame) {\n                usetool.getComponent(cc.Sprite).spriteFrame = spriteFrame;\n            });\n            window.InUse = info['name'];\n        }.bind(this), this);\n        console.log(\"In use tool:\"+ window.InUse);\n    },\n});\n"]}