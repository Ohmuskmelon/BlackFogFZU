{"version":3,"sources":["assets/scripts/game_chp1/cp1_cup/1_java.js"],"names":["cc","Class","Component","properties","start","window","cup","listen","touchcnt","lockOfCupsInCP1","node","on","Node","EventType","MOUSE_DOWN","event","update","dt","log","self","loader","loadRes","SpriteFrame","err","sp","getComponent","Sprite","spriteFrame","change_a","change_b","t","console"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAEAA,EAAE,CAACC,KAAH,CAAS;EACP,WAASD,EAAE,CAACE,SADL;EAGPC,UAAU,EAAE,CACV;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EAfU,CAHL;EAqBP;EAEA;EAEAC,KAzBO,mBAyBC;IACNC,MAAM,CAACC,GAAP,GAAa,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,CAAb;IACAD,MAAM,CAACE,MAAP,GAAgB,CAAC,CAAC,CAAF,EAAK,CAAC,CAAN,CAAhB;IACAF,MAAM,CAACG,QAAP,GAAkB,CAAlB;IACAH,MAAM,CAACI,eAAP,GAAyB,CAAC,CAA1B,CAJM,CAMN;;IACA,KAAKC,IAAL,CAAUC,EAAV,CAAaX,EAAE,CAACY,IAAH,CAAQC,SAAR,CAAkBC,UAA/B,EAA2C,UAAUC,KAAV,EAAiB;MAC1DR,MAAM,CAACC,QAAD,CAAN,GAAmB,CAAnB;MACAA,QAAQ;IACT,CAHD;EAID,CApCM;EAsCPQ,MAtCO,kBAsCAC,EAtCA,EAsCI;IACTjB,EAAE,CAACkB,GAAH,CAAOb,MAAM,CAACI,eAAd;IACA,IAAIU,IAAI,GAAG,IAAX;;IACA,IAAIb,GAAG,CAAC,CAAD,CAAH,IAAU,CAAd,EAAiB;MACfN,EAAE,CAACoB,MAAH,CAAUC,OAAV,CAAkB,MAAlB,EAA0BrB,EAAE,CAACsB,WAA7B,EAA0C,UAAUC,GAAV,EAAeC,EAAf,EAAmB;QAC3DL,IAAI,CAACT,IAAL,CAAUe,YAAV,CAAuBzB,EAAE,CAAC0B,MAA1B,EAAkCC,WAAlC,GAAgDH,EAAhD;MACD,CAFD;IAGD;;IACD,IAAIlB,GAAG,CAAC,CAAD,CAAH,IAAU,CAAd,EAAiB;MACfN,EAAE,CAACoB,MAAH,CAAUC,OAAV,CAAkB,OAAlB,EAA2BrB,EAAE,CAACsB,WAA9B,EAA2C,UAAUC,GAAV,EAAeC,EAAf,EAAmB;QAC5DL,IAAI,CAACT,IAAL,CAAUe,YAAV,CAAuBzB,EAAE,CAAC0B,MAA1B,EAAkCC,WAAlC,GAAgDH,EAAhD;MACD,CAFD;IAGD;;IAED,IAAIhB,QAAQ,IAAI,CAAhB,EAAmB;MACjBA,QAAQ,GAAG,CAAX;MACA,IAAIoB,QAAQ,GAAGrB,MAAM,CAAC,CAAD,CAArB;MACA,IAAIsB,QAAQ,GAAGtB,MAAM,CAAC,CAAD,CAArB;MACA,IAAIuB,CAAC,GAAGxB,GAAG,CAACsB,QAAD,CAAX;MACAtB,GAAG,CAACsB,QAAD,CAAH,GAAgBtB,GAAG,CAACuB,QAAD,CAAnB;MACAvB,GAAG,CAACuB,QAAD,CAAH,GAAgBC,CAAhB;MACAvB,MAAM,CAAC,CAAD,CAAN,GAAY,CAAC,CAAb;MACAA,MAAM,CAAC,CAAD,CAAN,GAAY,CAAC,CAAb;IACD;;IACD,IACED,GAAG,CAAC,CAAD,CAAH,IAAU,CAAV,IACAA,GAAG,CAAC,CAAD,CAAH,IAAU,CADV,IAEAA,GAAG,CAAC,CAAD,CAAH,IAAU,CAFV,IAGAA,GAAG,CAAC,CAAD,CAAH,IAAU,CAHV,IAIAA,GAAG,CAAC,CAAD,CAAH,IAAU,CAJV,IAKAD,MAAM,CAACI,eAAP,IAA0B,CAAC,CAN7B,EAOE;MACAJ,MAAM,CAACI,eAAP,GAAyB,CAAzB;MACAsB,OAAO,CAACb,GAAR,CAAY,UAAZ;IACD;EACF;AAzEM,CAAT","sourceRoot":"/","sourcesContent":["// Learn cc.Class:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n  extends: cc.Component,\r\n\r\n  properties: {\r\n    // foo: {\r\n    //     // ATTRIBUTES:\r\n    //     default: null,        // The default value will be used only when the component attaching\r\n    //                           // to a node for the first time\r\n    //     type: cc.SpriteFrame, // optional, default is typeof default\r\n    //     serializable: true,   // optional, default is true\r\n    // },\r\n    // bar: {\r\n    //     get () {\r\n    //         return this._bar;\r\n    //     },\r\n    //     set (value) {\r\n    //         this._bar = value;\r\n    //     }\r\n    // },\r\n  },\r\n\r\n  // LIFE-CYCLE CALLBACKS:\r\n\r\n  // onLoad () {},\r\n\r\n  start() {\r\n    window.cup = [0, 1, 0, 1, 0];\r\n    window.listen = [-1, -1];\r\n    window.touchcnt = 0;\r\n    window.lockOfCupsInCP1 = -1;\r\n\r\n    //this.node.on(cc.Node.EventType.TOUCH_MOVE, function (event)\r\n    this.node.on(cc.Node.EventType.MOUSE_DOWN, function (event) {\r\n      listen[touchcnt] = 0;\r\n      touchcnt++;\r\n    });\r\n  },\r\n\r\n  update(dt) {\r\n    cc.log(window.lockOfCupsInCP1);\r\n    let self = this;\r\n    if (cup[0] == 1) {\r\n      cc.loader.loadRes(\"tall\", cc.SpriteFrame, function (err, sp) {\r\n        self.node.getComponent(cc.Sprite).spriteFrame = sp;\r\n      });\r\n    }\r\n    if (cup[0] == 0) {\r\n      cc.loader.loadRes(\"short\", cc.SpriteFrame, function (err, sp) {\r\n        self.node.getComponent(cc.Sprite).spriteFrame = sp;\r\n      });\r\n    }\r\n\r\n    if (touchcnt == 2) {\r\n      touchcnt = 0;\r\n      var change_a = listen[0];\r\n      var change_b = listen[1];\r\n      var t = cup[change_a];\r\n      cup[change_a] = cup[change_b];\r\n      cup[change_b] = t;\r\n      listen[0] = -1;\r\n      listen[1] = -1;\r\n    }\r\n    if (\r\n      cup[0] == 0 &&\r\n      cup[1] == 0 &&\r\n      cup[2] == 1 &&\r\n      cup[3] == 0 &&\r\n      cup[4] == 1 &&\r\n      window.lockOfCupsInCP1 == -1\r\n    ) {\r\n      window.lockOfCupsInCP1 = 1;\r\n      console.log(\"杯子顺序摆放成功\");\r\n    }\r\n  },\r\n});\r\n"]}