{"version":3,"sources":["assets/scripts/item/item.js"],"names":["cc","Class","Component","properties","tip","Node","start","name","node","scene","Global","currentScene","find","isUsed","item","window","Items","tool","contactWithTool","used","Inuse","getChildByName","getComponent","Label","string","notUsedInfo","usedInfo","active","update","dt","itemType","itemName"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAEAA,EAAE,CAACC,KAAH,CAAS;EACL,WAASD,EAAE,CAACE,SADP;EAGLC,UAAU,EAAE;IACRC,GAAG,EAACJ,EAAE,CAACK;EADC,CAHP;EAOLC,KAPK,mBAOI;IACL,KAAKC,IAAL,GAAY,KAAKC,IAAL,CAAUD,IAAtB;IACA,KAAKE,KAAL,GAAaC,MAAM,CAACC,YAApB;IACA,KAAKP,GAAL,GAAWJ,EAAE,CAACY,IAAH,CAAQ,wBAAR,CAAX;IACA,KAAKC,MAAL,GAAc,KAAd;IACA,KAAKC,IAAL,GAAYC,MAAM,CAACC,KAAP,CAAa,KAAKP,KAAlB,EAAyB,KAAKF,IAA9B,EAAoCO,IAAhD;IACA,KAAKG,IAAL,GAAYF,MAAM,CAACC,KAAP,CAAa,KAAKP,KAAlB,EAAyB,KAAKF,IAA9B,EAAoCU,IAAhD;EACH,CAdI;EAgBLC,eAhBK,6BAgBY;IACb,KAAKL,MAAL,GAAcE,MAAM,CAACC,KAAP,CAAa,KAAKP,KAAlB,EAAyB,KAAKF,IAA9B,EAAoCY,IAAlD;;IAEA,IAAG,KAAKF,IAAL,IAAaF,MAAM,CAACK,KAAvB,EAA6B;MACzB,IAAG,KAAKP,MAAR,EAAe;QACX,KAAKT,GAAL,CAASiB,cAAT,CAAwB,WAAxB,EAAqCC,YAArC,CAAkDtB,EAAE,CAACuB,KAArD,EAA4DC,MAA5D,GAAqE,KAAKV,IAAL,CAAUW,WAA/E;MACH,CAFD,MAGI;QACAV,MAAM,CAACC,KAAP,CAAa,KAAKP,KAAlB,EAAyB,KAAKF,IAA9B,EAAoCY,IAApC,GAA2C,IAA3C;QACA,KAAKf,GAAL,CAASiB,cAAT,CAAwB,WAAxB,EAAqCC,YAArC,CAAkDtB,EAAE,CAACuB,KAArD,EAA4DC,MAA5D,GAAqE,KAAKV,IAAL,CAAUY,QAA/E;MACH;IACJ,CARD,MAQK;MACD,KAAKtB,GAAL,CAASuB,MAAT,GAAkB,IAAlB;IACH;EACJ,CA9BI;EAgCLC,MAhCK,kBAgCGC,EAhCH,EAgCO;IACR,IAAGnB,MAAM,CAACoB,QAAP,IAAmB,OAAnB,IAA8BpB,MAAM,CAACqB,QAAP,IAAmB,KAAKxB,IAAzD,EAA8D;MAC1D,KAAKW,eAAL;IACH;EACJ;AApCI,CAAT","sourceRoot":"/","sourcesContent":["// Learn cc.Class:\n//  - https://docs.cocos.com/creator/manual/en/scripting/class.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        tip:cc.Node\n    },\n    \n    start () {\n        this.name = this.node.name;\n        this.scene = Global.currentScene;\n        this.tip = cc.find(\"Canvas/Main Camera/tip\");\n        this.isUsed = false;\n        this.item = window.Items[this.scene][this.name].item;\n        this.tool = window.Items[this.scene][this.name].tool;\n    },\n\n    contactWithTool(){\n        this.isUsed = window.Items[this.scene][this.name].used;\n\n        if(this.tool == window.Inuse){\n            if(this.isUsed){\n                this.tip.getChildByName(\"textLabel\").getComponent(cc.Label).string = this.item.notUsedInfo;\n            }\n            else{\n                window.Items[this.scene][this.name].used = true;\n                this.tip.getChildByName(\"textLabel\").getComponent(cc.Label).string = this.item.usedInfo;\n            }\n        }else{\n            this.tip.active = true;\n        }\n    },\n\n    update (dt) {\n        if(Global.itemType == 'items' && Global.itemName == this.name){\n            this.contactWithTool();\n        }   \n    },\n});\n"]}